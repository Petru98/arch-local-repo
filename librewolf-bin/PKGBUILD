_pkgname=librewolf
_pkgrel=2
pkgname=$_pkgname-bin
pkgver=88.0.1
pkgrel=2
pkgdesc="Community-maintained fork of Firefox, focused on privacy, security and freedom."
arch=(x86_64)
license=(MPL GPL LGPL)
url="https://librewolf-community.gitlab.io/"

provides=($_pkgname)
conflicts=($_pkgname)

depends=(gtk3 libxt startup-notification mime-types dbus-glib ffmpeg nss ttf-font libpulse)
optdepends=(
    'networkmanager: Location detection via available WiFi networks'
    'libnotify: Notification integration'
    'pulseaudio: Audio support'
    'speech-dispatcher: Text-to-Speech'
    'hunspell-en_US: Spell checking, American English'
)

validpgpkeys=(031F7104E932F7BD7416E7F6D2845E1305D6E801)
options=(!emptydirs)

source=(
    "https://gitlab.com/$_pkgname-community/browser/arch/-/jobs/1262460657/artifacts/raw/$_pkgname-$pkgver-$_pkgrel-x86_64.pkg.tar.zst"
    "https://gitlab.com/$_pkgname-community/browser/arch/uploads/408789ac38996292279f47844c480659/$_pkgname-$pkgver-$_pkgrel-x86_64.pkg.tar.zst.sig"
)
sha512sums=(
    b90ce83174e92cdac66df4f5555c5e7e9398fa554b42f7caaa0a3b51245d99549e49fba8d0998e7fc3d59d289b1f91e5f56e4d548aff5274861608d2395c6b8c
    SKIP
)

package() {
    mv "$srcdir/usr" "$pkgdir/"
}
