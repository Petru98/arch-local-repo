_pkgname=librewolf
_pkgrel=1
pkgname=$_pkgname-bin
pkgver=88.0
pkgrel=2
pkgdesc="Community-maintained fork of Firefox, focused on privacy, security and freedom."
arch=(x86_64)
license=(MPL GPL LGPL)
url="https://librewolf-community.gitlab.io/"

provides=($_pkgname)
conflicts=($_pkgname)

depends=(gtk3 libxt startup-notification mime-types dbus-glib ffmpeg nss ttf-font libpulse)
optdepends=(
    'networkmanager: Location detection via available WiFi networks'
    'libnotify: Notification integration'
    'pulseaudio: Audio support'
    'speech-dispatcher: Text-to-Speech'
    'hunspell-en_US: Spell checking, American English'
)

validpgpkeys=(031F7104E932F7BD7416E7F6D2845E1305D6E801)
options=(!emptydirs)

source=(
    "https://gitlab.com/$_pkgname-community/browser/arch/-/jobs/1193560928/artifacts/raw/$_pkgname-$pkgver-$_pkgrel-x86_64.pkg.tar.zst"
    "https://gitlab.com/$_pkgname-community/browser/arch/uploads/4358e34799f8470381fd8d4bfb3b7080/$_pkgname-$pkgver-$_pkgrel-x86_64.pkg.tar.zst.sig"
)
sha512sums=(
    fd273dca474943fe227c567ca1df2acc611d3a9363839d63521ca02745c099474c08de732baad5c6da2b190d36e66227eea980a6c27325dc8028db8ed66624d5
    SKIP
)

package() {
    mv "$srcdir/usr" "$pkgdir/"
}
